$defl! quicksort (&lst)
(
	$if ($or? (null? lst) (null? (rest lst))) (move! lst)
	(
		$let ((pivot (first lst)) (rlst (rest lst)))
			append
				(quicksort (filter ($lambda (x) <? x pivot) rlst))
				(list pivot)
				(quicksort (filter ($lambda (x) (>=? x pivot)) rlst))
	)
);

display (quicksort (list 1 4 2 3 5));

